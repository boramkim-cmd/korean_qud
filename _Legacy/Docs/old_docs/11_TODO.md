# Caves of Qud 한글화 프로젝트 - TODO 리스트

> **버전**: 1.0 | **생성일**: 2026-01-16 | **기반**: `10_DEVELOPMENT_GUIDE.md`

---

## 📋 문서 진화 시스템

### 연동 구조
```
10_DEVELOPMENT_GUIDE.md (불변 참조)
         ↓
11_TODO.md (이 문서 - 동적 추적)
         ↓
12_CHANGELOG.md (완료된 작업 기록)
```

### 업데이트 규칙
1. **작업 시작 시**: `[ ]` → `[/]` 변경
2. **작업 완료 시**: `[/]` → `[x]` 변경, 날짜 추가
3. **주기적 동기화**: `python3 tools/project_tool.py` 실행 후 결과 반영
4. **Phase 완료 시**: 완료 항목을 `12_CHANGELOG.md`로 이동

---

## Phase 1: 안정화 (Stabilization)
**기간**: 2주 | **우선순위**: 🔴 높음

### P1-01: 인벤토리 "*All" 필터 번역
- **상태**: `[ ]` 미시작
- **예상 시간**: 2시간
- **담당 파일**: `Scripts/02_Patches/10_UI/02_10_07_Inventory.cs`

**작업 항목:**
- [ ] `UpdateViewFromData` 메서드 분석
- [ ] FilterBar 컴포넌트 접근 방법 조사
- [ ] "*All" → "전체" 변환 패치 구현
- [ ] 다른 카테고리 (Weapons, Armor 등) 확인
- [ ] 기능 정상 동작 테스트

**완료 기준:**
- [ ] 필터 바에서 "*All"이 "전체"로 표시됨
- [ ] 필터 클릭 시 정상 동작
- [ ] `project_tool.py` 검증 통과

---

### P1-02: Options 빈 값 50개 번역
- **상태**: `[ ]` 미시작
- **예상 시간**: 4시간
- **담당 파일**: `LOCALIZATION/glossary_options.json`

**작업 항목:**
- [ ] `project_tool.py` 실행하여 빈 값 목록 추출
- [ ] Options.xml에서 원문 확인
- [ ] 각 옵션별 한글 번역 작성
- [ ] JSON 업데이트
- [ ] 설정 화면에서 표시 확인

**완료 기준:**
- [ ] `project_tool.py` 출력: "빈 번역 항목: 0개"
- [ ] 설정 화면에서 모든 옵션 한글 표시

---

### P1-03: 조사 색상 태그 내부 지원
- **상태**: `[ ]` 미시작
- **예상 시간**: 3시간
- **담당 파일**: `Scripts/00_Core/00_00_99_QudKREngine.cs`

**작업 항목:**
- [ ] 현재 조사 처리 로직 분석
- [ ] 색상 태그 내부 한글 추출 함수 구현
- [ ] `GetLastHangul()` 메서드 추가
- [ ] 기존 조사 처리와 통합
- [ ] 다양한 케이스 테스트

**완료 기준:**
- [ ] `"{{w|검}}{을/를}"` → `"{{w|검}}을"` 정상 변환
- [ ] 기존 `"검{을/를}"` 정상 동작 유지

---

### P1-04: 변이 설명 5개 누락 번역
- **상태**: `[ ]` 미시작
- **예상 시간**: 1시간
- **담당 파일**: `LOCALIZATION/glossary_mutations.json`

**작업 항목:**
- [ ] `project_tool.py` 실행하여 빈 값 확인
- [ ] Mutations.xml에서 원문 확인
- [ ] 한글 번역 작성
- [ ] JSON 업데이트

**완료 기준:**
- [ ] glossary_mutations.json 완성도 100%

---

## Phase 2: 게임플레이 (Gameplay)
**기간**: 2~4주 | **우선순위**: 🟡 중간

### P2-01: 메시지 로그 패치 확장
- **상태**: `[ ]` 미시작
- **예상 시간**: 8시간
- **담당 파일**: 신규 (`02_10_XX_MessageLog.cs`)

**작업 항목:**
- [ ] `XRL.Messages.MessageQueue` 분석
- [ ] `AddPlayerMessage`, `Add` 메서드 시그니처 확인
- [ ] 메시지 패턴 분류 (공격, 획득, 이동 등)
- [ ] 정규식 기반 문장 구조 인식 구현
- [ ] 조사(Josa) 자동 적용
- [ ] `glossary_messages.json` 생성

**완료 기준:**
- [ ] 전투 메시지 80% 이상 한글화
- [ ] 영문 메시지 비율 20% 미만

---

### P2-02: ObjectBlueprints 아이템 추출
- **상태**: `[ ]` 미시작
- **예상 시간**: 4시간
- **담당 파일**: 신규 (`tools/extract_items.py`)

**작업 항목:**
- [ ] `Assets/StreamingAssets/Base/ObjectBlueprints/` 구조 분석
- [ ] XML 파싱 스크립트 작성
- [ ] `DisplayName`, `Description` 추출
- [ ] 카테고리별 분류 (무기, 방어구, 소비품 등)
- [ ] `glossary_items.json` 템플릿 생성

**완료 기준:**
- [ ] `glossary_items.json` 생성 (500+ 항목)

---

### P2-03: 아이템 이름/설명 번역
- **상태**: `[ ]` 미시작
- **예상 시간**: 20시간
- **담당 파일**: `LOCALIZATION/glossary_items.json`

**작업 항목:**
- [ ] 무기 카테고리 번역
- [ ] 방어구 카테고리 번역
- [ ] 소비품 카테고리 번역
- [ ] 잡화 카테고리 번역
- [ ] 패치 코드 작성 (`GameObject.GetDisplayName` 등)

**완료 기준:**
- [ ] 500+ 아이템 번역 완료
- [ ] 인벤토리에서 아이템 이름 한글 표시

---

### P2-04: NPC 대화 추출 및 번역
- **상태**: `[ ]` 미시작
- **예상 시간**: 16시간
- **담당 파일**: 신규 (`tools/extract_conversations.py`, `glossary_dialogue.json`)

**작업 항목:**
- [ ] `Conversations.xml` (647KB) 파싱
- [ ] NPC별 대화 추출
- [ ] 주요 퀘스트 관련 대화 우선 번역
- [ ] `glossary_dialogue.json` 생성
- [ ] ConversationUI 패치 확장

**완료 기준:**
- [ ] 주요 NPC 대화 번역
- [ ] 대화 UI에서 한글 표시

---

## Phase 3: 최적화 (Optimization)
**기간**: 4~6주 | **우선순위**: 🟢 낮음

### P3-01: 번역 캐싱 구현
- **상태**: `[ ]` 미시작
- **예상 시간**: 4시간
- **담당 파일**: `Scripts/00_Core/00_00_01_TranslationEngine.cs`

**작업 항목:**
- [ ] `Dictionary<string, string> _cache` 추가
- [ ] `TryTranslate` 메서드 캐시 로직 추가
- [ ] 캐시 히트율 로깅 추가
- [ ] 메모리 사용량 측정

**완료 기준:**
- [ ] 캐시 히트율 90% 이상
- [ ] 메모리 증가 10MB 미만

---

### P3-02: 누락 용어 자동 수집
- **상태**: `[ ]` 미시작
- **예상 시간**: 3시간
- **담당 파일**: `Scripts/00_Core/00_00_01_TranslationEngine.cs`

**작업 항목:**
- [ ] `HashSet<string> _missingTerms` 추가
- [ ] 번역 실패 시 수집 로직
- [ ] `DumpMissingTerms()` 메서드 구현
- [ ] DEBUG 빌드 조건부 컴파일

**완료 기준:**
- [ ] 미번역 텍스트 자동 수집 기능 동작

---

### P3-03: TMP_Text 조건부 패치
- **상태**: `[ ]` 미시작
- **예상 시간**: 2시간
- **담당 파일**: `Scripts/02_Patches/10_UI/02_10_00_GlobalUI.cs`

**작업 항목:**
- [ ] 한글 포함 여부 체크 함수 추가
- [ ] 숫자/기호만 포함 체크
- [ ] 이미 번역된 텍스트 스킵 로직

**완료 기준:**
- [ ] 불필요한 번역 시도 감소
- [ ] 성능 측정 비교

---

### P3-04: 성능 프로파일링
- **상태**: `[ ]` 미시작
- **예상 시간**: 4시간
- **담당 파일**: 분석 리포트

**작업 항목:**
- [ ] TMP_Text 패치 소요 시간 측정
- [ ] 병목 지점 식별
- [ ] 최적화 권고사항 문서화

**완료 기준:**
- [ ] 성능 리포트 작성

---

## Phase 4: 커뮤니티 (Community)
**기간**: 6주+ | **우선순위**: ⚪ 선택

### P4-01: 웹 기반 번역 에디터
- **상태**: `[ ]` 미시작
- **설명**: Crowdin/Weblate 연동 또는 자체 도구

### P4-02: Steam Workshop 자동 배포
- **상태**: `[ ]` 미시작
- **설명**: GitHub Actions + Steamworks CLI

### P4-03: 버전 호환성 자동 검증
- **상태**: `[ ]` 미시작
- **설명**: 게임 업데이트 시 패치 대상 확인

---

## 📊 진행 현황 요약

| Phase | 완료 | 진행 중 | 미시작 | 완료율 |
|-------|------|---------|--------|--------|
| Phase 1 | 0 | 0 | 4 | 0% |
| Phase 2 | 0 | 0 | 4 | 0% |
| Phase 3 | 0 | 0 | 4 | 0% |
| Phase 4 | 0 | 0 | 3 | 0% |
| **합계** | **0** | **0** | **15** | **0%** |

---

## 🔄 문서 진화 가이드

### 작업 완료 시 업데이트 절차

1. **TODO 상태 변경**
   ```markdown
   - **상태**: `[x]` 완료 (2026-01-17)
   ```

2. **진행 현황 테이블 업데이트**
   ```markdown
   | Phase 1 | 1 | 0 | 3 | 25% |
   ```

3. **CHANGELOG 추가** (`12_CHANGELOG.md`)
   ```markdown
   ## [2026-01-17]
   ### 완료
   - P1-01: 인벤토리 "*All" 필터 번역
   ```

4. **새 이슈 발견 시**
   - 해당 Phase에 새 항목 추가
   - `10_DEVELOPMENT_GUIDE.md` 알려진 이슈 섹션 업데이트

### AI 에이전트 사용 시

```markdown
## 작업 요청
현재 TODO: P1-01 (인벤토리 "*All" 필터 번역)
참조 문서: 10_DEVELOPMENT_GUIDE.md 섹션 4

## 완료 후 요청
TODO 문서의 P1-01 상태를 완료로 업데이트해주세요
```

---

*TODO 버전 1.0 | 2026-01-16*
