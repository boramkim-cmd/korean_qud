# ê²Œì„ API ì ìš© ë°©ë²• ì™„ë²½ ê°€ì´ë“œ

**ì‘ì„±ì¼ì‹œ:** 2026-01-13 10:23  
**ëª©ì :** Base-Work í´ë”ì—ì„œ ì‘ì—… â†’ ê²Œì„ì— ì ìš©í•˜ëŠ” ì „ì²´ ê³¼ì •

---

## ğŸ“ í´ë” êµ¬ì¡° ì´í•´

### ì›ë³¸ íŒŒì¼ (ì ˆëŒ€ ê±´ë“œë¦¬ì§€ ì•ŠìŒ)
```
/Users/ben/Desktop/ë¬´ì œ í´ë”/StreamingAssets/Base/
â”œâ”€â”€ Quests.xml              â† ì›ë³¸ (ì½ê¸° ì „ìš©)
â”œâ”€â”€ Conversations.xml       â† ì›ë³¸ (ì½ê¸° ì „ìš©)
â””â”€â”€ ...                     â† ëª¨ë“  ì›ë³¸ íŒŒì¼
```

### ì‘ì—… í´ë” (ì—¬ê¸°ì„œ ë²ˆì—­ ì‘ì—…)
```
/Users/ben/Desktop/ë¬´ì œ í´ë”/StreamingAssets/Base-Work/
â”œâ”€â”€ Translation/            â† ë²ˆì—­ ì‘ì—… ê³µê°„
â”‚   â”œâ”€â”€ Quests.xml         â† ë²ˆì—­ ì¤‘
â”‚   â””â”€â”€ Quests_TEST.xml    â† í…ŒìŠ¤íŠ¸ìš©
â”œâ”€â”€ Mod/KoreanLocalization/ â† ì™„ì„±ëœ ëª¨ë“œ
â”‚   â”œâ”€â”€ manifest.json
â”‚   â”œâ”€â”€ Quests.xml         â† ë²ˆì—­ ì™„ë£Œë³¸
â”‚   â””â”€â”€ Scripts/
â”‚       â””â”€â”€ JosaHandler.cs
â””â”€â”€ Tools/                  â† ë„êµ¬ ìŠ¤í¬ë¦½íŠ¸
```

### ê²Œì„ ì„¤ì¹˜ ìœ„ì¹˜ (ìµœì¢… ì ìš©)
```
Mac:
~/Library/Application Support/com.FreeholdGames.CavesOfQud/Mods/
â””â”€â”€ KoreanLocalization/     â† ì—¬ê¸°ì— ëª¨ë“œ ë³µì‚¬

Windows:
C:\Users\Username\AppData\LocalLow\Freehold Games\CavesOfQud\Mods\
â””â”€â”€ KoreanLocalization/
```

---

## ğŸ”„ ì‘ì—… íë¦„ (Work â†’ Game)

### 1ë‹¨ê³„: ì›ë³¸ ë³µì‚¬ â†’ Work
```bash
# ì›ë³¸ íŒŒì¼ì„ Work í´ë”ë¡œ ë³µì‚¬ (ì°¸ê³ ìš©)
cp "/Users/ben/Desktop/ë¬´ì œ í´ë”/StreamingAssets/Base/Quests.xml" \
   "/Users/ben/Desktop/ë¬´ì œ í´ë”/StreamingAssets/Base-Work/Translation/"
```

### 2ë‹¨ê³„: Translation í´ë”ì—ì„œ ë²ˆì—­
```bash
# Translation í´ë”ì—ì„œ ì‘ì—…
cd "/Users/ben/Desktop/ë¬´ì œ í´ë”/StreamingAssets/Base-Work/Translation"

# Quests.xml í¸ì§‘
# - ì˜ì–´ â†’ í•œê¸€ ë²ˆì—­
# - ì¡°ì‚¬ íƒœê·¸ ì¶”ê°€: <josa_eul_reul> ë“±
```

### 3ë‹¨ê³„: ë²ˆì—­ ì™„ë£Œë³¸ â†’ Mod í´ë”
```bash
# ë²ˆì—­ ì™„ë£Œëœ íŒŒì¼ì„ Mod í´ë”ë¡œ ë³µì‚¬
cp Translation/Quests.xml Mod/KoreanLocalization/
```

### 4ë‹¨ê³„: Mod í´ë” â†’ ê²Œì„
```bash
# Mac
cp -r Mod/KoreanLocalization \
   ~/Library/Application\ Support/com.FreeholdGames.CavesOfQud/Mods/

# Windows (PowerShell)
Copy-Item -Recurse Mod\KoreanLocalization `
   "$env:USERPROFILE\AppData\LocalLow\Freehold Games\CavesOfQud\Mods\"
```

### 5ë‹¨ê³„: ê²Œì„ì—ì„œ í™œì„±í™”
```
1. Caves of Qud ì‹¤í–‰
2. Main Menu â†’ Mods
3. "Korean Localization" ì²´í¬
4. ê²Œì„ ì¬ì‹œì‘
```

---

## ğŸ® ê²Œì„ API ì ìš© ì›ë¦¬

### ê²Œì„ì´ ëª¨ë“œë¥¼ ë¡œë“œí•˜ëŠ” ë°©ì‹

```
ê²Œì„ ì‹œì‘
    â†“
Mods í´ë” ìŠ¤ìº”
    â†“
manifest.json ì½ê¸°
    â†“
Scripts/*.cs ì»´íŒŒì¼ (JosaHandler.cs)
    â†“
Harmony íŒ¨ì¹˜ ì ìš©
    â†“
XML íŒŒì¼ ë¡œë“œ (Quests.xml ë“±)
    â†“
ê²Œì„ í”Œë ˆì´
```

### Harmony íŒ¨ì¹˜ ì‘ë™ ë°©ì‹

```csharp
// ê²Œì„ ì›ë³¸ ì½”ë“œ (ìš°ë¦¬ê°€ ìˆ˜ì • ë¶ˆê°€)
public class ConversationNode
{
    public string GetDisplayText()
    {
        return "ë‹¹ì‹ ì€ ê²€<josa_eul_reul> ë°œê²¬í–ˆë‹¤";
    }
}

// ìš°ë¦¬ì˜ Harmony íŒ¨ì¹˜ (JosaHandler.cs)
[HarmonyPatch(typeof(ConversationNode), "GetDisplayText")]
public static void Postfix(ref string __result)
{
    // ê²Œì„ì´ í…ìŠ¤íŠ¸ë¥¼ ë°˜í™˜í•˜ê¸° ì§ì „ì— ê°€ë¡œì±”
    __result = KoreanJosaHandler.Process(__result);
    // __result = "ë‹¹ì‹ ì€ ê²€ì„ ë°œê²¬í–ˆë‹¤"
}

// ê²°ê³¼: ê²Œì„ í™”ë©´ì— "ë‹¹ì‹ ì€ ê²€ì„ ë°œê²¬í–ˆë‹¤" í‘œì‹œ
```

---

## ğŸ“ ì‹¤ì „ ì˜ˆì‹œ

### ì˜ˆì‹œ 1: Quests.xml ë²ˆì—­

#### Translation/Quests.xml (ì‘ì—… ì¤‘)
```xml
<!-- ì›ë³¸ -->
<quest Name="WatersEdge" DisplayName="What's Eating the Watervine?">
  <text>Investigate the dying watervine in Joppa.</text>
</quest>

<!-- ë²ˆì—­ + ì¡°ì‚¬ íƒœê·¸ -->
<quest Name="WatersEdge" DisplayName="ì›Œí„°ë°”ì¸ì— ë¬´ìŠ¨ ì¼ì´?">
  <text>ì¡°íŒŒ<josa_euro_ro> ê°€ì„œ ì£½ì–´ê°€ëŠ” ì›Œí„°ë°”ì¸<josa_eul_reul> ì¡°ì‚¬í•˜ë¼.</text>
</quest>
```

#### Mod/KoreanLocalization/Quests.xml (ì™„ì„±ë³¸)
```xml
<?xml version="1.0" encoding="utf-8"?>
<quests>
  <quest Name="WatersEdge" DisplayName="ì›Œí„°ë°”ì¸ì— ë¬´ìŠ¨ ì¼ì´?">
    <text>ì¡°íŒŒ<josa_euro_ro> ê°€ì„œ ì£½ì–´ê°€ëŠ” ì›Œí„°ë°”ì¸<josa_eul_reul> ì¡°ì‚¬í•˜ë¼.</text>
  </quest>
</quests>
```

#### ê²Œì„ ì‹¤í–‰ ì‹œ
```
1. ê²Œì„ì´ Quests.xml ë¡œë“œ
2. í…ìŠ¤íŠ¸: "ì¡°íŒŒ<josa_euro_ro> ê°€ì„œ..."
3. Harmony íŒ¨ì¹˜ ì‘ë™
4. JosaHandler.Process() í˜¸ì¶œ
5. ê²°ê³¼: "ì¡°íŒŒë¡œ ê°€ì„œ ì£½ì–´ê°€ëŠ” ì›Œí„°ë°”ì¸ì„ ì¡°ì‚¬í•˜ë¼"
6. í™”ë©´ì— í‘œì‹œ
```

---

## ğŸ”§ Mac vs Windows ì°¨ì´ì 

### Mac
```bash
# ê²Œì„ Mods í´ë”
~/Library/Application Support/com.FreeholdGames.CavesOfQud/Mods/

# ë³µì‚¬ ëª…ë ¹
cp -r Mod/KoreanLocalization ~/Library/Application\ Support/com.FreeholdGames.CavesOfQud/Mods/

# ë¡œê·¸ í™•ì¸
tail -f ~/Library/Application\ Support/com.FreeholdGames.CavesOfQud/Player.log
```

### Windows
```powershell
# ê²Œì„ Mods í´ë”
C:\Users\Username\AppData\LocalLow\Freehold Games\CavesOfQud\Mods\

# ë³µì‚¬ ëª…ë ¹
Copy-Item -Recurse Mod\KoreanLocalization "$env:USERPROFILE\AppData\LocalLow\Freehold Games\CavesOfQud\Mods\"

# ë¡œê·¸ í™•ì¸
Get-Content "$env:USERPROFILE\AppData\LocalLow\Freehold Games\CavesOfQud\Player.log" -Wait
```

---

## âœ… ì²´í¬ë¦¬ìŠ¤íŠ¸

### ì‘ì—… ì „
- [ ] Base í´ë” ì›ë³¸ í™•ì¸ (ì½ê¸° ì „ìš©)
- [ ] Base-Work í´ë” ìƒì„± ì™„ë£Œ
- [ ] Translation í´ë” ì¤€ë¹„

### ë²ˆì—­ ì‘ì—…
- [ ] ì›ë³¸ íŒŒì¼ â†’ Translation ë³µì‚¬
- [ ] Translationì—ì„œ ë²ˆì—­
- [ ] ì¡°ì‚¬ íƒœê·¸ ì¶”ê°€
- [ ] XML ë¬¸ë²• í™•ì¸

### ëª¨ë“œ ë¹Œë“œ
- [ ] ë²ˆì—­ ì™„ë£Œë³¸ â†’ Mod í´ë” ë³µì‚¬
- [ ] manifest.json í™•ì¸
- [ ] JosaHandler.cs í™•ì¸

### ê²Œì„ ì ìš©
- [ ] Mod í´ë” â†’ ê²Œì„ Mods í´ë” ë³µì‚¬
- [ ] ê²Œì„ ì‹¤í–‰
- [ ] Mods ë©”ë‰´ì—ì„œ í™œì„±í™”
- [ ] ê²Œì„ ì¬ì‹œì‘

### í…ŒìŠ¤íŠ¸
- [ ] í€˜ìŠ¤íŠ¸ í…ìŠ¤íŠ¸ í™•ì¸
- [ ] ì¡°ì‚¬ ì²˜ë¦¬ ì‘ë™ í™•ì¸
- [ ] ë¡œê·¸ íŒŒì¼ í™•ì¸

---

## ğŸš¨ ì£¼ì˜ì‚¬í•­

### âŒ í•˜ì§€ ë§ ê²ƒ
```bash
# ì›ë³¸ íŒŒì¼ ì§ì ‘ ìˆ˜ì • ê¸ˆì§€
nano /Users/ben/Desktop/ë¬´ì œ\ í´ë”/StreamingAssets/Base/Quests.xml  # âŒ

# ê²Œì„ ì„¤ì¹˜ í´ë” íŒŒì¼ ìˆ˜ì • ê¸ˆì§€
nano ~/Library/Application\ Support/Steam/.../Caves\ of\ Qud/CoQ_Data/...  # âŒ
```

### âœ… í•´ì•¼ í•  ê²ƒ
```bash
# Base-Workì—ì„œ ì‘ì—…
nano /Users/ben/Desktop/ë¬´ì œ\ í´ë”/StreamingAssets/Base-Work/Translation/Quests.xml  # âœ…

# ì™„ì„±ë³¸ì„ Mod í´ë”ë¡œ ë³µì‚¬
cp Translation/Quests.xml Mod/KoreanLocalization/  # âœ…

# Modë¥¼ ê²Œì„ì— ì„¤ì¹˜
cp -r Mod/KoreanLocalization ~/Library/.../Mods/  # âœ…
```

---

## ğŸ“Š ì „ì²´ íë¦„ë„

```
[ì›ë³¸ íŒŒì¼]                [ì‘ì—… ê³µê°„]              [ê²Œì„]
Base/                      Base-Work/               Mods/
â”œâ”€â”€ Quests.xml    â”€â”€ë³µì‚¬â”€â”€â†’ Translation/            KoreanLocalization/
â”‚   (ì½ê¸° ì „ìš©)              â”œâ”€â”€ Quests.xml  â”€â”€ë³µì‚¬â”€â”€â†’ â”œâ”€â”€ Quests.xml
â”‚                            â”‚   (ë²ˆì—­ ì‘ì—…)          â”‚   (ì™„ì„±ë³¸)
â”‚                            â”‚                        â”œâ”€â”€ manifest.json
â”‚                            â””â”€â”€ Quests_TEST.xml      â””â”€â”€ Scripts/
â”‚                                (í…ŒìŠ¤íŠ¸ìš©)                â””â”€â”€ JosaHandler.cs
â”‚                                                              â†“
â”‚                                                         [Harmony íŒ¨ì¹˜]
â”‚                                                              â†“
â”‚                                                         [ì¡°ì‚¬ ì²˜ë¦¬]
â”‚                                                              â†“
â”‚                                                         [ê²Œì„ í™”ë©´]
```

---

**ì‘ì„±ì¼:** 2026-01-13 10:23  
**ë‹¤ìŒ:** ì‹¤ì œë¡œ ê²Œì„ì— ì„¤ì¹˜í•´ì„œ í…ŒìŠ¤íŠ¸
