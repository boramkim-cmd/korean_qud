# Task 1.1: 개발 환경 설정

**우선순위:** 🔴 최우선  
**예상 시간:** 30분  
**상태:** ⏳ 진행 중

---

## 📋 체크리스트

### 1. 시스템 요구사항 확인
- [ ] macOS 버전 확인
- [ ] 디스크 공간 확인 (최소 10GB)
- [ ] 인터넷 연결 확인

### 2. 개발 도구 설치

#### 옵션 A: Visual Studio Code (권장)
```bash
# Homebrew로 설치
brew install --cask visual-studio-code

# 또는 직접 다운로드
# https://code.visualstudio.com/
```

**필요한 확장:**
- C# (Microsoft)
- C# Dev Kit (Microsoft)
- XML Tools

#### 옵션 B: Visual Studio for Mac
```bash
# 직접 다운로드
# https://visualstudio.microsoft.com/vs/mac/
```

### 3. .NET SDK 설치

```bash
# .NET 8.0 SDK 설치 (최신 LTS)
brew install --cask dotnet-sdk

# 설치 확인
dotnet --version
# 출력 예: 8.0.x
```

### 4. Caves of Qud 설치 확인

```bash
# Steam 설치 경로 확인
ls ~/Library/Application\ Support/Steam/steamapps/common/

# Caves of Qud 폴더 확인
ls ~/Library/Application\ Support/Steam/steamapps/common/Caves\ of\ Qud/
```

**일반적인 경로:**
```
~/Library/Application Support/Steam/steamapps/common/Caves of Qud/
```

### 5. 작업 폴더 구조 생성

```bash
# 프로젝트 루트 폴더
cd ~/Desktop
mkdir CavesOfQud-Korean
cd CavesOfQud-Korean

# 하위 폴더 생성
mkdir -p {Mod,Translation,Backup,Tools}

# 구조 확인
tree -L 1
```

**폴더 구조:**
```
CavesOfQud-Korean/
├── Mod/              # 모드 프로젝트
├── Translation/      # 번역 파일
├── Backup/           # 원본 백업
└── Tools/            # 도구 스크립트
```

### 6. 원본 파일 백업

```bash
# Caves of Qud 설치 경로
GAME_PATH=~/Library/Application\ Support/Steam/steamapps/common/Caves\ of\ Qud

# StreamingAssets 백업
cp -r "$GAME_PATH/CoQ_Data/StreamingAssets" ~/Desktop/CavesOfQud-Korean/Backup/

# 백업 확인
ls ~/Desktop/CavesOfQud-Korean/Backup/StreamingAssets/Base/
```

### 7. Git 설정 (선택적)

```bash
cd ~/Desktop/CavesOfQud-Korean

# Git 초기화
git init

# .gitignore 생성
cat > .gitignore << 'EOF'
# Build outputs
bin/
obj/
*.dll
*.pdb

# IDE
.vs/
.vscode/
*.suo
*.user

# Backup
Backup/

# OS
.DS_Store
Thumbs.db
EOF

# 첫 커밋
git add .
git commit -m "Initial commit: Project structure"
```

---

## 🧪 환경 확인 테스트

### 테스트 1: .NET SDK

```bash
# 버전 확인
dotnet --version

# 새 콘솔 프로젝트 생성 테스트
cd ~/Desktop/CavesOfQud-Korean/Tools
dotnet new console -n TestProject
cd TestProject
dotnet run

# 출력: Hello, World!
```

### 테스트 2: 파일 접근

```bash
# Caves of Qud 파일 읽기 테스트
GAME_PATH=~/Library/Application\ Support/Steam/steamapps/common/Caves\ of\ Qud

# Quests.xml 확인
head -20 "$GAME_PATH/CoQ_Data/StreamingAssets/Base/Quests.xml"
```

---

## 📝 환경 변수 설정

### .zshrc 또는 .bashrc에 추가

```bash
# 편집기 열기
nano ~/.zshrc

# 다음 내용 추가
export COQ_GAME_PATH=~/Library/Application\ Support/Steam/steamapps/common/Caves\ of\ Qud
export COQ_PROJECT_PATH=~/Desktop/CavesOfQud-Korean

# 저장 후 적용
source ~/.zshrc
```

### 확인

```bash
echo $COQ_GAME_PATH
echo $COQ_PROJECT_PATH
```

---

## ✅ 완료 기준

- [ ] .NET SDK 설치 완료 (`dotnet --version` 작동)
- [ ] VS Code 또는 Visual Studio 설치 완료
- [ ] Caves of Qud 설치 경로 확인
- [ ] 프로젝트 폴더 구조 생성
- [ ] 원본 파일 백업 완료
- [ ] 환경 변수 설정 완료

---

## 🚨 문제 해결

### 문제 1: .NET SDK 설치 실패

**해결:**
```bash
# Homebrew 업데이트
brew update
brew upgrade

# 직접 다운로드
# https://dotnet.microsoft.com/download
```

### 문제 2: Caves of Qud 경로를 찾을 수 없음

**해결:**
```bash
# Steam 라이브러리 폴더 찾기
find ~ -name "Caves of Qud" 2>/dev/null

# 또는 Steam 앱에서 확인
# 우클릭 → 관리 → 로컬 파일 보기
```

### 문제 3: 권한 오류

**해결:**
```bash
# 폴더 권한 확인
ls -la ~/Desktop/CavesOfQud-Korean

# 권한 수정
chmod -R 755 ~/Desktop/CavesOfQud-Korean
```

---

## 📊 진행 상황

- [x] 문서 작성
- [ ] 실제 환경 설정
- [ ] 테스트 완료

---

**다음 작업:** Task 1.2 - JosaHandler 테스트  
**예상 완료:** 2026-01-13
