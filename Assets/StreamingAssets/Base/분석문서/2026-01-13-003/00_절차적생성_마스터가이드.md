# Caves of Qud 절차적 생성 시스템 번역 가이드

**작성일시:** 2026-01-13 09:42  
**폴더:** 2026-01-13-003  
**주제:** 절차적 생성(Procedural Generation) 전용

---

## 📋 목차

1. [절차적 생성이란?](#절차적-생성이란)
2. [관련 파일 분류](#관련-파일-분류)
3. [우선순위 체계](#우선순위-체계)
4. [번역 전략](#번역-전략)
5. [문서 구조](#문서-구조)

---

## 절차적 생성이란?

### 정의
게임이 실행될 때마다 **동적으로 콘텐츠를 생성**하는 시스템

### Caves of Qud의 절차적 생성 요소
- 🏛️ **역사 (History):** 술탄 계보, 역사적 사건, 파벌 관계
- 👤 **이름 (Names):** 캐릭터명, 지역명, 아이템명
- 💬 **대화 (Conversations):** 동적 대화 및 소문
- 📜 **퀘스트 (Quests):** 절차적 퀘스트 생성
- 📚 **책 내용 (Books):** 도서관 책 내용
- 🎲 **인구 (Population):** NPC 생성 및 배치

---

## 관련 파일 분류

### 🔴 핵심 절차적 생성 (Core Procedural)

| 순위 | 파일명 | 크기 | 역할 | 관여도 |
|-----|--------|------|------|--------|
| 01 | HistorySpice.json | 183 KB | 역사/이벤트 생성 템플릿 | ⭐⭐⭐⭐⭐ |
| 02 | Naming.xml | 169 KB | 이름 생성 규칙 | ⭐⭐⭐⭐⭐ |
| 03 | LibraryCorpus.json | 2.4 MB | 책 내용 생성 | ⭐⭐⭐⭐ |

### 🟡 절차적 생성 연계 (Procedural-Linked)

| 순위 | 파일명 | 크기 | 역할 | 관여도 |
|-----|--------|------|------|--------|
| 04 | Conversations.xml | 647 KB | 동적 대화 포함 | ⭐⭐⭐ |
| 05 | Quests.xml | 27 KB | 동적 퀘스트 포함 | ⭐⭐⭐ |
| 06 | PopulationTables.xml | 848 KB | NPC 생성 테이블 | ⭐⭐⭐ |

### 🟢 간접 절차적 생성 (Indirect Procedural)

| 순위 | 파일명 | 크기 | 역할 | 관여도 |
|-----|--------|------|------|--------|
| 07 | Books.xml | 153 KB | 책 메타데이터 | ⭐⭐ |
| 08 | Factions.xml | 66 KB | 파벌 정보 (역사 참조) | ⭐⭐ |
| 09 | Genders.xml | 12 KB | 성별 시스템 (이름 생성) | ⭐ |

### ⚪ 비절차적 생성 (Non-Procedural)

| 파일명 | 이유 |
|--------|------|
| ObjectBlueprints/ | 정적 아이템 데이터 |
| Skills.xml | 정적 스킬 데이터 |
| Mutations.xml | 정적 돌연변이 데이터 |
| ActivatedAbilities.xml | 정적 능력 데이터 |
| Colors.xml | 정적 색상 데이터 |

---

## 우선순위 체계

### 절차적 생성 관여도 기준

#### ⭐⭐⭐⭐⭐ (최고)
- **직접 생성:** 템플릿을 사용해 콘텐츠를 동적으로 생성
- **예:** HistorySpice.json, Naming.xml

#### ⭐⭐⭐⭐ (매우 높음)
- **콘텐츠 소스:** 생성된 콘텐츠의 원본 데이터
- **예:** LibraryCorpus.json

#### ⭐⭐⭐ (높음)
- **부분 동적:** 일부 콘텐츠가 절차적으로 생성됨
- **예:** Conversations.xml (동적 대화), Quests.xml (동적 퀘스트)

#### ⭐⭐ (중간)
- **간접 참조:** 절차적 생성 시스템에서 참조됨
- **예:** Factions.xml (역사에서 참조)

#### ⭐ (낮음)
- **최소 관여:** 절차적 생성에 약간만 영향
- **예:** Genders.xml (이름 생성 시 사용)

---

## 번역 전략

### Phase 1: 핵심 템플릿 (7-10일)

**목표:** 절차적 생성의 기반 구축

```
01. HistorySpice.json     (5-7일)  ⭐⭐⭐⭐⭐
    └─ 역사, 이벤트, 소문 생성

02. Naming.xml            (1-2일)  ⭐⭐⭐⭐⭐
    └─ 이름 생성 (음차 처리)

03. LibraryCorpus.json    (선택)   ⭐⭐⭐⭐
    └─ 책 내용 (주요 책만)
```

### Phase 2: 동적 콘텐츠 (35-45일)

**목표:** 생성된 콘텐츠가 표시되는 부분

```
04. Conversations.xml     (30-40일) ⭐⭐⭐
    └─ 동적 대화 템플릿

05. Quests.xml            (1-2일)  ⭐⭐⭐
    └─ 동적 퀘스트 템플릿

06. PopulationTables.xml  (3-5일)  ⭐⭐⭐
    └─ NPC 생성 규칙
```

### Phase 3: 참조 데이터 (8-10일)

**목표:** 절차적 생성에서 참조하는 정적 데이터

```
07. Books.xml             (5-7일)  ⭐⭐
    └─ 책 메타데이터

08. Factions.xml          (2-3일)  ⭐⭐
    └─ 파벌 정보

09. Genders.xml           (1일)    ⭐
    └─ 성별 시스템
```

---

## 문서 구조

### 이 폴더의 문서들

```
2026-01-13-003/
├── 00_절차적생성_마스터가이드.md        (현재 문서)
│
├── 🔴 핵심 절차적 생성
│   ├── 01_HistorySpice.json_상세전략.md
│   ├── 02_Naming.xml_상세전략.md
│   └── 03_LibraryCorpus.json_상세전략.md
│
├── 🟡 절차적 생성 연계
│   ├── 04_Conversations.xml_동적부분.md
│   ├── 05_Quests.xml_동적부분.md
│   └── 06_PopulationTables.xml_전략.md
│
└── 🟢 간접 절차적 생성
    ├── 07_Books.xml_전략.md
    ├── 08_Factions.xml_전략.md
    └── 09_Genders.xml_전략.md
```

---

## 핵심 도전 과제

### 1. 한글 조사 처리 (최대 난제)

**문제:**
```
영어: "The <sultan.name> ruled wisely"
한글: "<sultan.name>이/가 현명하게 통치했다"
```

**해결 방안:**
- 엔진 조사 처리 기능 확인
- 조사 회피 문장 구조
- Python 후처리 스크립트

### 2. 변수 문법 유지

**절대 규칙:**
```
❌ <spice.adjectives.!random> → <spice.형용사.!랜덤>
✅ <spice.adjectives.!random> → 그대로 유지
```

### 3. 동적 조합의 자연스러움

**예시:**
```json
// 원문
"a <adjective> <noun>"
→ "a radiant prism"

// 번역
"<adjective> <noun>"
→ "빛나는 프리즘"
```

---

## 절차적 생성 시스템 흐름도

```
┌─────────────────────────────────────────┐
│     HistorySpice.json (템플릿)          │
│  - elements, professions, phrases       │
└──────────────┬──────────────────────────┘
               │
               ├──→ 역사 생성 (술탄, 사건)
               ├──→ 소문 생성 (gossip)
               └──→ 이벤트 생성 (mythicalEvent)
                              │
                              ↓
┌─────────────────────────────────────────┐
│     Naming.xml (이름 규칙)              │
│  - prefixes, infixes, postfixes         │
└──────────────┬──────────────────────────┘
               │
               └──→ 캐릭터/지역명 생성
                              │
                              ↓
┌─────────────────────────────────────────┐
│     Conversations.xml (대화)            │
│  - 동적 대화에서 역사/이름 참조         │
└──────────────┬──────────────────────────┘
               │
               └──→ NPC 대화 표시
                              │
                              ↓
┌─────────────────────────────────────────┐
│     Quests.xml (퀘스트)                 │
│  - 동적 퀘스트에서 역사/이름 참조       │
└──────────────┬──────────────────────────┘
               │
               └──→ 퀘스트 목표 표시
                              │
                              ↓
┌─────────────────────────────────────────┐
│     LibraryCorpus.json (책 내용)        │
│  - 책 텍스트 생성                       │
└─────────────────────────────────────────┘
```

---

## 작업 순서 권장

### 최적 경로 (절차적 생성 중심)

```
1. HistorySpice.json (5-7일)
   ↓
2. Naming.xml (1-2일)
   ↓
3. Conversations.xml 동적 부분 (5-7일)
   ↓
4. Quests.xml 동적 부분 (1일)
   ↓
5. Factions.xml (2-3일)
   ↓
6. Books.xml (5-7일)
   ↓
7. LibraryCorpus.json (선택적)
```

**총 예상:** 20-30일 (LibraryCorpus 제외)

---

## 테스트 전략

### 1단계: 템플릿 테스트
```
HistorySpice.json 번역 후
→ 새 게임 시작
→ 역사 확인 (술탄 이름, 사건)
```

### 2단계: 동적 대화 테스트
```
Conversations.xml 동적 부분 번역 후
→ NPC와 대화
→ 소문 확인
```

### 3단계: 통합 테스트
```
모든 파일 번역 후
→ 여러 번 새 게임 시작
→ 다른 역사 생성 확인
→ 자연스러움 검증
```

---

## 예상 결과

### 번역 전
```
"Did you hear? Rumor is that the Putus Templar stole a relic from the Mechanimists."
```

### 번역 후 (이상적)
```
"들었어? 소문에 의하면 푸투스 템플러가 메카니카 신자에게서 유물을 훔쳤대."
```

### 번역 후 (조사 문제 발생 시)
```
"들었어? 소문에 의하면 푸투스 템플러, 그들이 메카니카 신자에게서 유물을 훔쳤대."
```

---

## 성공 기준

### 필수 (Must Have)
- ✅ 역사가 매번 다르게 생성됨
- ✅ 술탄 이름이 한글로 표시됨
- ✅ 동적 대화가 작동함
- ✅ 게임이 크래시하지 않음

### 권장 (Should Have)
- ✅ 조사가 자연스럽게 처리됨
- ✅ 역사 텍스트가 읽기 편함
- ✅ 용어가 일관됨

### 선택 (Nice to Have)
- ✅ 모든 책 내용이 번역됨
- ✅ 완벽한 문학적 표현

---

## 관련 자료

### 참고 문서
- **2026-01-13-002 폴더:** 전체 파일 번역 전략
- **문서 03:** HistorySpice.json 상세 전략
- **문서 10:** Naming.xml 전략

### 외부 자료
- Caves of Qud Wiki - History System
- 절차적 생성 알고리즘 설명

---

## 다음 단계

1. **문서 01 읽기:** HistorySpice.json 상세 전략
2. **조사 처리 테스트:** 게임 엔진 기능 확인
3. **HistorySpice.json 번역 시작:** commonPhrases부터

---

**작성일:** 2026-01-13 09:42  
**버전:** 1.0  
**다음 문서:** 01_HistorySpice.json_상세전략.md
